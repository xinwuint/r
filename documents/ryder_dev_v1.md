# Ryder Development

## Project folder structure
```
  |-common                          common files used by both kiosk and videosite
  |  |-assets
  |  |  |-fonts
  |  |  |-localization
  |  |-content
  |  |  |-images                    thumbnails
  |  |  |-videos                    videos in all languages
  |-documents                       documents of dev/deploy
  |-kiosk                           sub project: kiosk app
  |  |-src
  |  |  |-assets
  |  |  |  |-images
  |  |  |  |-js
  |  |  |  |-sass
  |  |  |-config                    configuration file
  |  |-tmp
  |-publish                         publish folder
  |  |-kiosk                        all files to be deployed to BS browser
  |  |-videosite                    all files to be copied to video site wwwroot folder
  |-videosite                       sub project: video site
  |  |-src
  |  |  |-assets
  |  |  |  |-images
  |  |  |-config                    configuration file
  |  |  |-css
  |  |  |-js
  |  |-tmp
```

## Making build

1. Install latest version of npm
2. Goto project folder and run `npm install`
3. Build kiosk app by `cd kiosk && gulp build`
4. Build videosite by `cd videosite && gulp build`
5. Output will be in `kiosk/build` and `videosite/build`

## Launching

1. Open Chrome browser by
```
"C:\Program Files (x86)\Google\Chrome\Application\chrome.exe" --user-data-dir="c:/tmp" --disable-web-security --allow-file-access-from-files
```
Replace the path of chrome.exe if it resides somewhere else.

2. Launching kiosk by url:
```
path/to/kiosk/build/index.html?lang={lang}&location={location}
```
| Param | Possible Value | Mandatory | Default | Desc |
| ------ | ------ | ------ | ------ | ------ |
| lang | 'en-us', 'en-ca', 'fr-ca' | no | 'en-us' | locale for app |
| location | any text | no | if missing from url, app tries to get SN as location; if fail, use 'test-location' | identifier of kiosk/location running this instance |
For debug's purpose, provide a fake id as location, such as 'mykiosk'.

3. Lanching video site by url:
```
path/to/videosite/build/index.html?locale={locale}&location={location}
```
| Param | Possible Value | Mandatory | Default | Desc |
| ------ | ------ | ------ | ------ | ------ |
| locale | 'en-us', 'en-ca', 'fr-ca' | no | 'en-us' | locale for ui |
| location | any text | no | 'test-location' | indicate from which kiosk this visiting was transferred |
Basically this url is automatically generated by kiosk app, and sent to user by email. But for debug's purpose, it could be luanched stand alone.

